!function(){"use strict";var e={790:function(e){e.exports=window.ReactJSXRuntime},4715:function(e){e.exports=window.wp.blockEditor},6427:function(e){e.exports=window.wp.components},7723:function(e){e.exports=window.wp.i18n}},a={};function l(r){var i=a[r];if(void 0!==i)return i.exports;var n=a[r]={exports:{}};return e[r](n,n.exports,l),n.exports}var r=l(7723),i=l(4715),n=l(6427),s=l(790);const{registerBlockType:o}=wp.blocks;o("eara/gallery",{edit:function(e){const{attributes:a,setAttributes:l}=e,{images:o,layout:t,columns:d,gap:m,imageSize:c}=a,p=(0,i.useBlockProps)({className:`wp-block-eara-gallery wp-block-eara-gallery--${t}`}),g=(e,a,r)=>{const i=[...o];i[e]={...i[e],[a]:r},l({images:i})},u=e=>{const a=o.filter((a,l)=>l!==e);l({images:a})},_=[{label:(0,r.__)("Grid","eara"),value:"grid"},{label:(0,r.__)("Masonry","eara"),value:"masonry"}],x=[{label:(0,r.__)("Thumbnail","eara"),value:"thumbnail"},{label:(0,r.__)("Medium","eara"),value:"medium"},{label:(0,r.__)("Large","eara"),value:"large"},{label:(0,r.__)("Full","eara"),value:"full"}],y={display:"masonry"===t?"block":"grid",gridTemplateColumns:"grid"===t?`repeat(${d}, 1fr)`:"auto",gap:"grid"===t?`${m}px`:"0",columnCount:"masonry"===t?d:"auto",columnGap:"masonry"===t?`${m}px`:"0"};return(0,s.jsxs)("div",{...p,children:[(0,s.jsxs)(i.InspectorControls,{children:[(0,s.jsxs)(n.PanelBody,{title:(0,r.__)("Gallery Settings","eara"),initialOpen:!0,children:[(0,s.jsx)(n.SelectControl,{label:(0,r.__)("Layout","eara"),value:t,options:_,onChange:e=>l({layout:e}),help:(0,r.__)("Choose gallery layout style","eara")}),(0,s.jsx)(n.RangeControl,{label:(0,r.__)("Columns","eara"),value:d,onChange:e=>l({columns:e}),min:1,max:6,help:(0,r.__)("Number of columns","eara")}),(0,s.jsx)(n.RangeControl,{label:(0,r.__)("Gap","eara"),value:m,onChange:e=>l({gap:e}),min:0,max:48,help:(0,r.__)("Space between images (px)","eara")}),(0,s.jsx)(n.SelectControl,{label:(0,r.__)("Image Size","eara"),value:c,options:x,onChange:e=>l({imageSize:e}),help:(0,r.__)("Choose image size","eara")})]}),(0,s.jsx)(n.PanelBody,{title:(0,r.__)("Image Links","eara"),initialOpen:!1,children:o.length>0?o.map((e,a)=>(0,s.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:[(0,s.jsxs)("p",{style:{margin:"0 0 8px 0",fontSize:"13px",fontWeight:"600"},children:[(0,r.__)("Image","eara")," ",a+1]}),(0,s.jsx)(n.TextControl,{label:(0,r.__)("Link URL","eara"),value:e.link,onChange:e=>g(a,"link",e),placeholder:"https://...",help:(0,r.__)("Optional link for this image","eara")}),(0,s.jsx)(n.TextControl,{label:(0,r.__)("Alt Text","eara"),value:e.alt,onChange:e=>g(a,"alt",e),placeholder:(0,r.__)("Image description","eara")}),(0,s.jsx)(n.Button,{onClick:()=>u(a),isDestructive:!0,isSmall:!0,style:{marginTop:"8px"},children:(0,r.__)("Remove Image","eara")})]},a)):(0,s.jsx)("p",{style:{fontSize:"13px",color:"#666"},children:(0,r.__)("No images added yet","eara")})})]}),(0,s.jsx)("div",{className:"eara-gallery-editor",children:0===o.length?(0,s.jsx)("div",{className:"eara-gallery-placeholder",children:(0,s.jsx)(i.MediaUploadCheck,{children:(0,s.jsx)(i.MediaUpload,{onSelect:e=>{const a=e.map(e=>({id:e.id,url:e.url,alt:e.alt||"",link:""}));l({images:a})},allowedTypes:["image"],multiple:!0,gallery:!0,value:o.map(e=>e.id),render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isPrimary:!0,children:(0,r.__)("Add Images","eara")})})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"eara-gallery__grid",style:y,children:o.map((e,a)=>(0,s.jsx)("div",{className:"eara-gallery__item",style:{marginBottom:"masonry"===t?`${m}px`:"0",breakInside:"masonry"===t?"avoid":"auto"},children:(0,s.jsxs)("div",{className:"eara-gallery__image-wrapper",children:[(0,s.jsx)("img",{src:e.url,alt:e.alt,className:"eara-gallery__image"}),(0,s.jsxs)("div",{className:"eara-gallery__overlay",children:[(0,s.jsx)(n.Button,{onClick:()=>u(a),isDestructive:!0,isSmall:!0,children:(0,r.__)("Remove","eara")}),e.link&&(0,s.jsxs)("span",{style:{fontSize:"11px",color:"#fff",marginTop:"8px",display:"block"},children:["ðŸ”— ",(0,r.__)("Linked","eara")]})]})]})},a))}),(0,s.jsx)("div",{style:{marginTop:"16px"},children:(0,s.jsx)(i.MediaUploadCheck,{children:(0,s.jsx)(i.MediaUpload,{onSelect:e=>{const a=e.map(e=>({id:e.id,url:e.url,alt:e.alt||"",link:""}));l({images:[...o,...a]})},allowedTypes:["image"],multiple:!0,gallery:!0,value:o.map(e=>e.id),render:({open:e})=>(0,s.jsx)(n.Button,{onClick:e,isSecondary:!0,children:(0,r.__)("Add More Images","eara")})})})})]})})]})},save:function({attributes:e}){const{images:a,layout:l,columns:r,gap:i}=e;if(0===a.length)return null;const n={display:"masonry"===l?"block":"grid",gridTemplateColumns:"grid"===l?`repeat(${r}, 1fr)`:void 0,gap:"grid"===l?`${i}px`:void 0,columnCount:"masonry"===l?r:void 0,columnGap:"masonry"===l?`${i}px`:void 0};return(0,s.jsx)("div",{className:`eara-gallery eara-gallery--${l}`,children:(0,s.jsx)("div",{className:"eara-gallery__grid",style:n,children:a.map((e,a)=>{const r=(0,s.jsx)("div",{className:"eara-gallery__item",style:{marginBottom:"masonry"===l?`${i}px`:void 0,breakInside:"masonry"===l?"avoid":void 0},children:(0,s.jsx)("div",{className:"eara-gallery__image-wrapper",children:(0,s.jsx)("img",{src:e.url,alt:e.alt,className:"eara-gallery__image",loading:"lazy"})})});return e.link?(0,s.jsx)("a",{href:e.link,className:"eara-gallery__link",target:"_blank",rel:"noopener noreferrer",children:r},a):(0,s.jsx)("div",{children:r},a)})})})}})}();